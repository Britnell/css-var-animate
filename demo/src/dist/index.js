function ___$insertStyle(e){if(e&&"undefined"!=typeof window){const r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerHTML=e,document.head.appendChild(r),e}}function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var react=require("react"),Bezier=_interopDefault(require("bezier-easing")),getRaf=function(e){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame},asStr=function(e){return"string"==typeof e?e:e.toString()},useScroller=function(e){var u=react.useState(e)[0];react.useEffect(function(){function t(t){var e,r,n,s,c,o,u,a;t.ref.current&&(c=t.ref.current.getBoundingClientRect(),e=Math.floor(c.top),r=Math.floor(c.bottom),n=window.innerHeight+c.height,s=Math.floor(window.innerHeight-c.top),n<(s=c.top>window.innerHeight?0:s)&&(s=n),c=Math.floor(s/n*400)/400,t.classChecker&&(o=t.classChecker({scroll:s,scrollMax:n,perc:c,top:e,bottom:r,element:t.ref.current}),t.classFalse&&(u=t.ref.current.classList.contains(t.classFalse),o&&u&&t.ref.current.classList.remove(t.classFalse),o||u||t.ref.current.classList.add(t.classFalse)),t.classTrue&&(u=t.ref.current.classList.contains(t.classTrue),o&&!u&&t.ref.current.classList.add(t.classTrue),!o&&u&&t.ref.current.classList.remove(t.classTrue))),t.customVars&&(a=t.customVars({perc:c,scroll:s,scrollMax:n,top:e,bottom:r,element:t.ref.current})||{},Object.keys(a).forEach(function(e){var r;null!=(r=t.ref.current)&&r.style.setProperty(e,asStr(a[e]))})),t.ref.current.style.setProperty("--p",asStr(c)),t.ref.current.style.setProperty("--s",asStr(s)))}var e=getRaf(window),r=0,n=function(){u.forEach(function(e){null!=e&&e.unwatch||t(e)})},s=function(){window.scrollY!==r&&(r=window.scrollY,n()),e(s)},c=function(r){var e=u.find(function(e){return e.ref.current===r.target});if(e){if(!r.isIntersecting)return e.unwatch=!0,void t(e);e.unwatch=!1,t(e)}},o=new IntersectionObserver(function(e){e.forEach(c)},{root:null,rootMargin:"0px",threshold:0});return u.forEach(function(e){e=e.ref;e.current&&o.observe(e.current)}),e&&e(s),function(){u.forEach(function(e){e=e.ref;return e.current&&o.unobserve(e.current)})}},[u])},defaultEasings={linear:[0,0,1,1],"ease-in":[.6,0,1,1],"ease-out":[0,0,.6,1],"ease-in-out":[1,0,0,1]},useCounter=function(){function e(){0<Object.keys(c.current).length&&Object.values(c.current).forEach(function(e){var r=e.active,t=e.begin,n=e.ms,s=e.id,c=e.easingFunction;r&&(t=c(c=1<(c=(r=Date.now()-t)/n)?1:c),e.ref.current&&e.ref.current.style.setProperty(s,asStr(t)),n<=r&&(e.active=!1))}),r.current=requestAnimationFrame(e)}var r=react.useRef(),c=react.useRef({});react.useEffect(function(){return r.current=requestAnimationFrame(e),function(){r.current&&cancelAnimationFrame(r.current)}},[]);return{start:function(e){var r=e.ref,t=e.id,n=e.ms,n=void 0===n?1e3:n,s=e.bezier,e=e.easing,s=s||defaultEasings[void 0===e?"linear":e],e=Bezier(s[0],s[1],s[2],s[3]);c.current[t]={begin:Date.now(),active:!0,ms:n,id:t,ref:r,easingFunction:e}}}};exports.useCounter=useCounter,exports.useScroller=useScroller;
//# sourceMappingURL=index.js.map
