function ___$insertStyle(e){if(e&&"undefined"!=typeof window){const r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerHTML=e,document.head.appendChild(r),e}}Object.defineProperty(exports,"__esModule",{value:!0});var react=require("react"),getRaf=function(e){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame},asStr=function(e){return"string"==typeof e?e:e.toString()},useScroller=function(e){var a=react.useState(e)[0];react.useEffect(function(){function t(t){var e,r,n,s,o,c,a,u;t.ref.current&&(o=t.ref.current.getBoundingClientRect(),e=Math.floor(o.top),r=Math.floor(o.bottom),n=window.innerHeight+o.height,s=Math.floor(window.innerHeight-o.top),n<(s=o.top>window.innerHeight?0:s)&&(s=n),o=Math.floor(s/n*400)/400,t.classChecker&&(c=t.classChecker({scroll:s,scrollMax:n,perc:o,top:e,bottom:r,element:t.ref.current}),t.classFalse&&(a=t.ref.current.classList.contains(t.classFalse),c&&a&&t.ref.current.classList.remove(t.classFalse),c||a||t.ref.current.classList.add(t.classFalse)),t.classTrue&&(a=t.ref.current.classList.contains(t.classTrue),c&&!a&&t.ref.current.classList.add(t.classTrue),!c&&a&&t.ref.current.classList.remove(t.classTrue))),t.customVars&&(u=t.customVars({perc:o,scroll:s,scrollMax:n,top:e,bottom:r,element:t.ref.current})||{},Object.keys(u).forEach(function(e){var r;null!=(r=t.ref.current)&&r.style.setProperty(e,asStr(u[e]))})),t.ref.current.style.setProperty("--p",asStr(o)),t.ref.current.style.setProperty("--s",asStr(s)))}var e=getRaf(window),r=0,n=function(){a.forEach(function(e){null!=e&&e.unwatch||t(e)})},s=function(){window.scrollY!==r&&(r=window.scrollY,n()),e(s)},o=function(r){var e=a.find(function(e){return e.ref.current===r.target});if(e){if(!r.isIntersecting)return e.unwatch=!0,void t(e);e.unwatch=!1,t(e)}},c=new IntersectionObserver(function(e){e.forEach(o)},{root:null,rootMargin:"0px",threshold:0});return a.forEach(function(e){e=e.ref;e.current&&c.observe(e.current)}),e&&e(s),function(){a.forEach(function(e){e=e.ref;return e.current&&c.unobserve(e.current)})}},[a])};exports.useScroller=useScroller;
//# sourceMappingURL=index.ts.map
